# --- Rewrite / Redirects ---
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Spezifische Redirects f√ºr Alt-URLs
  RewriteRule ^review/2018/?$ - [L,G]
  RewriteRule ^review/2019/?$ - [L,G]
  RewriteRule ^faculty/?$ - [L,G]
  RewriteRule ^organization/?$ - [L,G]
  RewriteRule ^organisation/?$ - [L,G]
  RewriteRule ^certification/?$ - [L,G]

  # Trailing slash entfernen (keine Ordner)
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)/$ /$1 [L,R=301]

  # Immer www + https
  RewriteCond %{HTTP_HOST} ^beauli\.de$ [NC]
  RewriteRule ^(.*)$ https://www.beauli.de/$1 [L,R=301]
</IfModule>

# --- Fehlerseiten ---
ErrorDocument 401 /error/fehler.php?code=401
ErrorDocument 402 /error/fehler.php?code=402
ErrorDocument 403 /error/fehler.php?code=403
ErrorDocument 404 /error/fehler.php?code=404

# --- GZip einfach (ohne mod_filter) ---
<IfModule mod_deflate.c>
  AddOutputFilterByType DEFLATE text/html text/plain text/css application/javascript application/json text/xml application/xml application/xhtml+xml image/svg+xml
</IfModule>

# --- Expires/Caching separat  ---
<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresDefault "access plus 1 month"
  ExpiresByType image/gif  "access plus 1 month"
  ExpiresByType image/png  "access plus 1 month"
  ExpiresByType image/jpeg "access plus 1 month"
  ExpiresByType image/webp "access plus 1 month"
  ExpiresByType text/css "access plus 1 week"
  ExpiresByType application/javascript "access plus 1 week"
  ExpiresByType text/javascript "access plus 1 week"
  ExpiresByType application/json "access plus 0 seconds"
  ExpiresByType application/xml  "access plus 0 seconds"
  ExpiresByType text/xml         "access plus 0 seconds"
  ExpiresByType image/x-icon     "access plus 1 week"
</IfModule>

AddDefaultCharset utf-8
FileETag None
